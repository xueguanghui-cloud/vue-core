<mxfile host="65bd71144e">
    <diagram id="sHy40IJlR3OlP8ZGKRKE" name="第 1 页">
        <mxGraphModel dx="871" dy="1990" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="5" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2" target="4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="&lt;div style=&quot;text-align: start;&quot;&gt;&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;createApp&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; ((&lt;span style=&quot;color: #000000;&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;args&lt;/span&gt;) &lt;span style=&quot;color: #0000ff;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;&amp;nbsp; const&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;app&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;ensureRenderer&lt;/span&gt;().&lt;span style=&quot;color: #795e26;&quot;&gt;createApp&lt;/span&gt;(&lt;span style=&quot;color: #000000;&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;args&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;&amp;nbsp; const&lt;/span&gt; { &lt;span style=&quot;color: #795e26;&quot;&gt;mount&lt;/span&gt; } &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;app&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #0070c1;&quot;&gt;&amp;nbsp; // 重写 mount 方法&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #0070c1;&quot;&gt;app&lt;/span&gt;.&lt;span style=&quot;color: #795e26;&quot;&gt;mount&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;containerOrSelector&lt;/span&gt;&lt;span style=&quot;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;any&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt; {...}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;})&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="190" y="-100" width="460" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="11" style="edgeStyle=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;fontColor=#FF0000;" parent="1" source="4" target="12" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="430" y="240" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="17" value="" style="edgeStyle=none;html=1;fontSize=12;fontColor=#FF0000;" parent="1" source="4" target="16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="40" style="edgeStyle=none;curved=1;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;strokeColor=#FF0000;fontSize=14;fontColor=#FF0000;" parent="1" source="4" target="39" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="&lt;span style=&quot;color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: 700; text-align: start; background-color: rgb(248, 248, 248);&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ensureRenderer()&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="350" y="120" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="42" style="edgeStyle=none;curved=1;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;strokeColor=#FF0000;fontSize=14;fontColor=#FF0000;" parent="1" source="12" target="41" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="&lt;span style=&quot;color: rgb(153, 0, 0); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: 700; text-align: start; background-color: rgb(248, 248, 248);&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;createApp(...args)&lt;/font&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="335" y="240" width="170" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="" style="edgeStyle=none;html=1;fontSize=12;fontColor=#FF0000;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="16" target="18" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="&lt;div style=&quot;border-color: var(--border-color); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;font color=&quot;#0000ff&quot;&gt;生成 一个 renderer 对象&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 0, 255);&quot;&gt;function&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(121, 94, 38);&quot;&gt;ensureRenderer&lt;/span&gt;() {&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(175, 0, 219);&quot;&gt;return&lt;/span&gt;&amp;nbsp;(&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;renderer&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 0, 0);&quot;&gt;||&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&amp;nbsp; &amp;nbsp; (&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;renderer&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(121, 94, 38);&quot;&gt;createRenderer&lt;/span&gt;(&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 112, 193);&quot;&gt;rendererOptions&lt;/span&gt;))&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&amp;nbsp; )&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="560" y="65" width="430" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="" style="edgeStyle=none;html=1;fontSize=12;fontColor=#FF0000;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" source="18" target="20" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="&lt;div style=&quot;border-color: var(--border-color); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(175, 0, 219);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 0, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(121, 94, 38);&quot;&gt;createRenderer&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 16, 128);&quot;&gt;options&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;)&amp;nbsp;{&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); line-height: 22px;&quot;&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;baseCreateRenderer&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;options&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1060" y="85" width="370" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="&lt;div style=&quot;border-color: var(--border-color); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(175, 0, 219);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 0, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38); background-color: rgb(255, 255, 255);&quot;&gt;baseCreateRenderer&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 16, 128);&quot;&gt;options&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;)&amp;nbsp;{&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); line-height: 22px;&quot;&gt;&lt;div&gt;&amp;nbsp; // ...&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(175, 0, 219);&quot;&gt;&amp;nbsp; return&lt;/span&gt;&lt;span style=&quot;&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;render&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;hydrate&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;createApp&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;createAppAPI&lt;/span&gt;(&lt;span style=&quot;color: #795e26;&quot;&gt;render&lt;/span&gt;, &lt;span style=&quot;color: #795e26;&quot;&gt;hydrate&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1480" y="40" width="400" height="205" as="geometry"/>
                </mxCell>
                <mxCell id="24" style="edgeStyle=none;html=1;fontSize=12;fontColor=#FF0000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;curved=1;strokeColor=#FF0000;" parent="1" source="23" target="12" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1050" y="380" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="1080" y="250"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="26" style="edgeStyle=none;curved=1;html=1;strokeColor=#FF0000;fontSize=12;fontColor=#FF0000;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="23" target="25" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="1780" y="-30" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="1508" y="160" width="370" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="&lt;div style=&quot;border-color: var(--border-color); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(175, 0, 219);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 0, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38); background-color: rgb(255, 255, 255);&quot;&gt;createAppAPI&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(121, 94, 38);&quot;&gt;render&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(121, 94, 38);&quot;&gt;hydrate&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(59, 59, 59);&quot;&gt;)&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;border-color: var(--border-color); color: rgb(59, 59, 59); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px;&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); line-height: 22px;&quot;&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(175, 0, 219);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;createApp&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootComponent&lt;/span&gt;&lt;span style=&quot;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootProps&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;&quot;&gt;) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 112, 193);&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // ...&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;_component&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootComponent&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(175, 0, 219);&quot;&gt;as&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;ConcreteComponent&lt;/span&gt;&lt;span style=&quot;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;_props&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;rootProps&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;mount&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootContainer&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;isHydrate&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;){&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ...&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; const&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 112, 193);&quot;&gt;vnode&lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;createVNode&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootComponent&lt;/span&gt;&lt;span style=&quot;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootProps&lt;/span&gt;&lt;span style=&quot;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; render&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 112, 193);&quot;&gt;vnode&lt;/span&gt;&lt;span style=&quot;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;rootContainer&lt;/span&gt;&lt;span style=&quot;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;&lt;span style=&quot;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;// ...&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // ...&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1440" y="-440" width="550" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="" style="edgeStyle=none;curved=1;html=1;strokeColor=#000000;fontSize=14;fontColor=#FF0000;" parent="1" source="27" target="2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="27" value="&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;createApp&lt;/span&gt;&lt;span style=&quot;color: #3b3b3b;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;App&lt;/span&gt;&lt;span style=&quot;color: #3b3b3b;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;mount&lt;/span&gt;&lt;span style=&quot;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(163, 21, 21);&quot;&gt;'#app'&lt;/span&gt;&lt;span style=&quot;&quot;&gt;)&lt;/span&gt;;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fontSize=14;fillColor=#ffe6cc;strokeColor=#d79b00;align=center;" parent="1" vertex="1">
                    <mxGeometry x="284.5" y="-220" width="270" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="33" style="edgeStyle=none;curved=1;html=1;strokeColor=#FF0000;fontSize=14;fontColor=#FF0000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;" parent="1" source="32" target="34" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="770" y="10" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="37" style="edgeStyle=none;curved=1;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#FF0000;fontSize=14;fontColor=#FF0000;" parent="1" source="34" target="36" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#FF3333;fontSize=14;fontColor=#FF0000;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="219" y="-40" width="415" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="" style="edgeStyle=none;curved=1;html=1;strokeColor=#FF0000;fontSize=14;fontColor=#FF0000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;exitX=0;exitY=1;exitDx=0;exitDy=0;" parent="1" source="43" target="32" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="634" y="-10" as="targetPoint"/>
                        <mxPoint x="1687.5033312889223" y="-250.1709030885263" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="32" value="在源码中，create App((...args)=&amp;gt;{..})中会重写 mount方法" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=14;fontColor=#FF0000;" parent="1" vertex="1">
                    <mxGeometry x="870" y="-80" width="380" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="414" y="-220" width="138" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="320" y="-73" width="150" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="480" y="-73" width="150" height="33" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#FF0000;" parent="1" vertex="1">
                    <mxGeometry x="1480" y="-274" width="480" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="44" value="&lt;br&gt;&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;// 创建虚拟节点，type 就是我们传入的 App组件对象&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: #3b3b3b;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;_createVNode&lt;/span&gt;&lt;span style=&quot;color: #3b3b3b;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;type&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;props&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;children&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;patchFlag&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;dynamicProps&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;isBlockNode&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;false&lt;/span&gt;){&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #008000;&quot;&gt;&amp;nbsp; // encode the vnode type information into a bitmap&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;shapeFlag&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;isString&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;ELEMENT&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;// element&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;__FEATURE_SUSPENSE__&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;isSuspense&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;SUSPENSE&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;// suspense 异步组件&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;isTeleport&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;TELEPORT&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;// teleport 组件&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;isObject&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;STATEFUL_COMPONENT&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;// 有状态组件&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;isFunction&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;FUNCTIONAL_COMPONENT&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;// 函数式组件&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #000000;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #098658;&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #af00db;&quot;&gt;&amp;nbsp; return&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;createBaseVNode&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;type&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;props&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;children&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;patchFlag&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;dynamicProps&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0070c1;&quot;&gt;shapeFlag&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;isBlockNode&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0000ff;&quot;&gt;true&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; )&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #3b3b3b;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="2120" y="-830" width="830" height="570" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="1621" y="-246" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="47" target="44" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;创建虚拟节点&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="45" vertex="1" connectable="0">
                    <mxGeometry x="-0.125" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="50" style="edgeStyle=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="48" target="49" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="1505" y="-202" width="350" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;// 渲染节点&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;render&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;vnode&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;namespace&lt;/span&gt;) &lt;span style=&quot;color: #0000ff;&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;vnode&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;null&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 如果vnode 不存在，则标识需要卸载组件&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;_vnode&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;unmount&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;_vnode&lt;/span&gt;, &lt;span style=&quot;color: #0000ff;&quot;&gt;null&lt;/span&gt;, &lt;span style=&quot;color: #0000ff;&quot;&gt;null&lt;/span&gt;, &lt;span style=&quot;color: #0000ff;&quot;&gt;true&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } &lt;span style=&quot;color: #af00db;&quot;&gt;else&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 否则进入更新流程（初始化创建也是特殊的一种更新）&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;patch&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;_vnode&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;||&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;vnode&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 缓存vnode&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;_vnode&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;vnode&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="2120" y="-250" width="760" height="330" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;// 更新节点，从这里开始会进入Diff算法流程&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;patch&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;undefined&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;slotScopeIds&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;null&lt;/span&gt;,&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;&amp;nbsp; optimized&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;__DEV__&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;isHmrUpdating&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;false&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;!!&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;dynamicChildren&lt;/span&gt;) &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 新旧虚拟节点相同 则直接返回&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;===&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;) {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;return&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 对于类型不同的新老节点，直接进行卸载旧节点树&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;isSameVNodeType&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;)) {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;anchor&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;getNextHostNode&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;unmount&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;parentComponent&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;parentSuspense&lt;/span&gt;, &lt;span style=&quot;color: #0000ff;&quot;&gt;true&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; { &lt;span style=&quot;color: #267f99;&quot;&gt;type&lt;/span&gt;, &lt;span style=&quot;color: #0070c1;&quot;&gt;ref&lt;/span&gt;, &lt;span style=&quot;color: #0070c1;&quot;&gt;shapeFlag&lt;/span&gt; } &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;switch&lt;/span&gt; (&lt;span style=&quot;color: #267f99;&quot;&gt;type&lt;/span&gt;) {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;Text&lt;/span&gt;: // 文本节点&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;processText&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;anchor&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;Comment&lt;/span&gt;: // 注释节点&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;processCommentNode&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;container&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;anchor&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;Static&lt;/span&gt;: // 静态节点&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font color=&quot;#af00db&quot;&gt;// ...&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;case&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;Fragment&lt;/span&gt;:&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;processFragment&lt;/span&gt;(&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;n1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;slotScopeIds&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;break&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;default&lt;/span&gt;:&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;shapeFlag&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;ELEMENT&lt;/span&gt;) {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;processElement&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;slotScopeIds&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } &lt;span style=&quot;color: #af00db;&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;shapeFlag&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;ShapeFlags&lt;/span&gt;.&lt;span style=&quot;color: #0070c1;&quot;&gt;COMPONENT&lt;/span&gt;) {&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;processComponent&lt;/span&gt;(&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;n1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;slotScopeIds&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ...&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; // ...&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="2962" y="-250" width="1248" height="860" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="" style="edgeStyle=none;html=1;fontSize=12;" parent="1" source="52" target="51" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="2150" y="-43" width="710" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="&lt;div style=&quot;color: rgb(59, 59, 59); background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;// 处理组件对象&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;processComponent&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n1&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;slotScopeIds&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;) &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;slotScopeIds&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;slotScopeIds&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;null&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // 此处省略了些代码&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(121, 94, 38);&quot;&gt;mountComponent&lt;/span&gt;(&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;n2&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;border-color: var(--border-color); color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } &lt;span style=&quot;color: #af00db;&quot;&gt;else&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;updateComponent&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;n1&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;n2&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="4360" y="382" width="1120" height="228" as="geometry"/>
                </mxCell>
                <mxCell id="56" style="edgeStyle=none;html=1;fontSize=12;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="55" target="54" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="4360" y="487" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="57" value="处理组件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="56" vertex="1" connectable="0">
                    <mxGeometry x="-0.1133" y="-3" relative="1" as="geometry">
                        <mxPoint y="-2" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="55" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="3030" y="472" width="1030" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="58" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;Intel One Mono Italic&amp;quot;, Consolas, 隶书, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 16px; line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div style=&quot;line-height: 22px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;mountComponent&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt; (&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;initialVNode&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;&lt;font color=&quot;#3b3b3b&quot;&gt;,&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;&lt;span style=&quot;color: rgb(59, 59, 59);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(59, 59, 59);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 1. 先创建一个 component instance&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0070c1;&quot;&gt;instance&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;=&amp;nbsp;&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;initialVNode&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;component&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;createComponentInstance&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;initialVNode&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentComponent&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;))&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 2. 初始化 instance 上的 props, slots, 执行组件的 setup 函数...&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;setupComponent&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;instance&lt;/span&gt;, &lt;span style=&quot;color: #0000ff;&quot;&gt;false&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #008000;&quot;&gt;// 3. 设置并运行带副作用的渲染函数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #795e26;&quot;&gt;setupRenderEffect&lt;/span&gt;(&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;instance&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;initialVNode&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;container&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;anchor&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;parentSuspense&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;namespace&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;optimized&lt;/span&gt;)&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;color: rgb(59, 59, 59);&quot;&gt;&amp;nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="5520" y="378" width="1050" height="260" as="geometry"/>
                </mxCell>
                <mxCell id="61" style="edgeStyle=none;html=1;fontSize=12;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="59" target="58" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="5600" y="510" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="59" value="" style="ellipse;whiteSpace=wrap;html=1;fontSize=12;fontColor=#FF0000;fillColor=none;strokeColor=#FF3333;" parent="1" vertex="1">
                    <mxGeometry x="4390" y="493" width="870" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>